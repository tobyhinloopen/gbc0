#include "tiles.h"
#include <gb/gb.h>

// Each tile is 16 bytes (8x8 2bpp)
// Format: low byte, high byte per row

// Floor: light dotted pattern
const uint8_t tiles_bg_data[TILES_BG_COUNT * 16] = {
  // TILE_FLOOR (1): light floor
  0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00,
  0x00,0x00, 0x00,0x00, 0x00,0x00, 0x00,0x00,

  // TILE_WALL (2): solid dark block
  0xFF,0xFF, 0x81,0xFF, 0xBD,0xC3, 0xA5,0xDB,
  0xA5,0xDB, 0xBD,0xC3, 0x81,0xFF, 0xFF,0xFF,

  // TILE_TABLE (3): table surface
  0xFF,0xFF, 0xFF,0x00, 0xC3,0x00, 0xC3,0x00,
  0xC3,0x00, 0xC3,0x00, 0xFF,0x00, 0xFF,0xFF,

  // TILE_TARGET (4): X marker
  0x00,0x00, 0x42,0x42, 0x24,0x24, 0x18,0x18,
  0x18,0x18, 0x24,0x24, 0x42,0x42, 0x00,0x00,

  // TILE_SCREW (5): small circle
  0x00,0x00, 0x18,0x18, 0x24,0x24, 0x42,0x42,
  0x42,0x42, 0x24,0x24, 0x18,0x18, 0x00,0x00,
};

// Sprite tiles (also 2bpp, 16 bytes each)
const uint8_t tiles_sprite_data[TILES_SPRITE_COUNT * 16] = {
  // SPRITE_PLAYER_DOWN (0): robot facing down
  0x3C,0x3C, 0x42,0x7E, 0x5A,0x7E, 0x5A,0x7E,
  0x42,0x7E, 0x3C,0x3C, 0x24,0x24, 0x24,0x24,

  // SPRITE_PLAYER_UP (1): robot facing up
  0x3C,0x3C, 0x42,0x7E, 0x42,0x7E, 0x42,0x7E,
  0x42,0x7E, 0x3C,0x3C, 0x24,0x24, 0x24,0x24,

  // SPRITE_PLAYER_LEFT (2): robot facing left
  0x3C,0x3C, 0x42,0x7E, 0x4A,0x7E, 0x52,0x7E,
  0x42,0x7E, 0x3C,0x3C, 0x24,0x24, 0x24,0x24,

  // SPRITE_PLAYER_RIGHT (3): robot facing right
  0x3C,0x3C, 0x42,0x7E, 0x52,0x7E, 0x4A,0x7E,
  0x42,0x7E, 0x3C,0x3C, 0x24,0x24, 0x24,0x24,

  // SPRITE_SCREWDRIVER (4): tool
  0x02,0x02, 0x04,0x04, 0x08,0x08, 0x10,0x10,
  0x20,0x20, 0x70,0x70, 0x70,0x70, 0x20,0x20,
};

void tiles_init(void) {
  set_bkg_data(TILE_FLOOR, TILES_BG_COUNT, tiles_bg_data);
  set_sprite_data(0, TILES_SPRITE_COUNT, tiles_sprite_data);
}
